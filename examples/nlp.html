<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Search Example - Associations</title>
    <link rel="stylesheet" href="https://branch.qlik.com/anon/resources/assets/client/client.css">
    <link rel="stylesheet" href="sense-search.min.css"/>
  </head>
  <body style="width: 80%; margin: 20px auto; font-family: arial;">
    <h2>Search Example - Visualizations</h2>
    <p>
      This example uses Branch Project data. It uses some basic natural language processing to create vizualizations from
      the specified search terms. For example, try entering 'show me points by title for websy85'.
    </p>
    <p>
      It uses the Qlik Sense Capability APIs to visualize the result.
    </p>
    <sense-search-input id="myInput" mode="visualizations"></sense-search-input>
    <sense-search-results id="myResults"></sense-search-results>
    <script type="text/javascript" src="https://branch.qlik.com/anon/resources/assets/external/requirejs/require.js"></script>
    <script type="text/javascript" src="sense-search.min.js"></script>
    <script type="text/javascript">

      var config = {
        host: "branch.qlik.com",
        prefix: "/anon/",
        isSecure: true,
        app: "079c5cb3-5456-4e3a-ab04-aaaf7ef1b41a"
      };

      require.config( {
          baseUrl: ( config.isSecure ? "https://" : "http://" ) + config.host + (config.port ? ":" + config.port: "") + config.prefix + "resources"
      });

      require( ["js/qlik"], function ( qlik ) {
        qlik.setOnError( function ( error ) {
            alert( error.message );
        } );

        var app = qlik.openApp(config.app, config);
        app.model.waitForOpen.promise.then(function(){
           senseSearch.connectWithCapabilityAPI(app);
        });
      });

    </script>
  </body>
</html>
